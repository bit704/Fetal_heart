# -*- coding: utf-8 -*-
#需要在先前从数据库读取了训练集和测试集的情况下使用

def tempdata_generator(image_filename,label_filename,source_filename,total_data_num=2100):    
    image_fileobject=open(image_filename+'.txt',"w")
    label_fileobject=open(label_filename+'.txt',"w")
    #第一个参数为image数据存放文件名，第二个参数为label数据存放文件名，第三个参数为数据来源，第四个参数为读取数量
    for i in range(int(total_data_num)):
        data=data_reader(source_filename,i)
        label=data[0]
        for j in range(1,len(data)):
            image_fileobject.write('%s'%data[j])
            image_fileobject.write(' ')
        image_fileobject.write('\n')
        label_fileobject.write("%s\n"%label)
        print(i)
        
    image_fileobject.close()
    image_fileobject.close()
    return 0

#测试用数据读取器
def image_data_reader(image_filename,rownum):
    with open(image_filename+'.txt', "r") as fileobject:
        fetaldata = fileobject.readlines()
        L=fetaldata[rownum].split()
    fileobject.close()
    return L